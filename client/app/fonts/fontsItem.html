<!-- Inject all styles to use them directly -->
<style type="text/css" ng-repeat="variant in fontItem.variants">

@font-face {
  font-family: {{variant.fontFamily}};
  font-style: {{variant.fontStyle}};
  font-weight: {{variant.fontWeight}};
  src: url('{{variant.eot}}'); /* IE9 Compat Modes */
  src: local('{{variant.local[0]}}'),{{variant.local[1].length > 0 ? " local('" + variant.local[1] + "')," : ""}}
       url('{{variant.eot}}?#iefix') format('embedded-opentype'), /* IE6-IE8 */
       url('{{variant.woff2}}') format('woff2'), /* Super Modern Browsers */
       url('{{variant.woff}}') format('woff'), /* Modern Browsers */
       url('{{variant.ttf}}')  format('truetype'), /* Safari, Android, iOS */
       url('{{variant.svg}}') format('svg'); /* Legacy iOS */
}

</style>


<div cg-busy="{promise: fontItemPromise, message: 'Fetching {{fontID}}...', templateUrl: 'app/fonts/customLoadingTemplate.html'}">
  <div class="row" ng-hide="busy">
    <div class="col-sm-6 column">
      <h3>{{fontItem.family}} <small>{{fontItem.category}}</small></h3>
      <h4><ng-pluralize count="fontItem.variants.length"
                    when="{'0': 'no style',
                           'one': '{} style',
                           'other': '{} styles'}">
      </ng-pluralize>&nbsp;<small><span ng-repeat="variant in fontItem.variants">{{variant.id}}{{$last ? "" : ", "}}</span></small></h4>
      <h5><ng-pluralize count="fontItem.subsets.length"
                    when="{'0': 'no subsets',
                           'one': '{} subset',
                           'other': '{} subsets'}">
      </ng-pluralize>&nbsp;<small><span ng-repeat="subset in fontItem.subsets">{{subset}}{{$last ? "" : ", "}}</span></small></h5>
      
      <p><small>Ranks {{fontItem.popularity}}. popular font of {{fonts.length}} fonts in total<br/>Last modified on {{fontItem.lastModified}} ({{fontItem.version}})</small></p>
      
    </div>

    <div class="col-sm-6 column">
      <!-- <div class="well well-sm"> -->
      <a href="/api/fonts/{{fontItem.id}}?download=zip" target="_blank" role="button" class="btn btn-primary btn-lg btn-block download-button"><i class="fa fa-download fa-lg"></i><br/>{{fontItem.id}}.zip&nbsp;<br/><small>.eot, .ttf, .svg, .woff and .woff2 files included</small></a>
      <p><small>Fonts are copyright of their respective authors.</small></p>

      <button class="btn btn-default btn-sm btn-block" ng-click="isCollapsed = !isCollapsed" ng-init="isCollapsed=true" style="font-family:{{fontItem.variants[0].fontFamily}}; font-weight:400; font-style:{{fontItem.variants[0].fontStyle}};">Preview: The quick brown fox jumps over the lazy dog.</button>
      <!-- </div> -->
    </div>

  </div>
  

  <div ng-hide="busy" class="fontVariant"> <!-- FONT VARIANT BEGINS -->

    <div collapse="isCollapsed">
      <hr>    

      <!-- Show a preview of all fonts -->
      <div class="row" >
        <div class="preview col-md-3 col-sm-4 col-xs-6" ng-repeat="variant in fontItem.variants" style="font-family:{{variant.fontFamily}}; font-weight:{{variant.fontWeight}}; font-style:{{variant.fontStyle}};">
          <h4>{{variant.id}}</h4>
          <textarea class="form-control" rows="3">The quick brown fox jumps over the lazy dog.</textarea>
        </div>
      </div>

    </div>

    <hr>

    <h4>CSS snippets</h4>

    <div class="form-inline folderPrefixBar">Folder prefix:&nbsp;<div class="form-group">
      <input class="form-control input-sm" type="text" ng-model="folderPrefix" placeholder="no folder prefix" ng-init="folderPrefix='../fonts/'" value="../fonts/">
    </div></div>

    <tabset>
      <tab heading="Best Support">
        
<pre ng-repeat="variant in fontItem.variants">/* {{fontID}}-{{variant.id}} */
@font-face {
  font-family: {{variant.fontFamily}};
  font-style: {{variant.fontStyle}};
  font-weight: {{variant.fontWeight}};
  src: url('<a href="{{variant.eot}}">{{folderPrefix}}{{fontID}}-{{fontItem.storeID}}-{{variant.id}}.eot</a>'); /* IE9 Compat Modes */
  src: local('{{variant.local[0]}}'),{{variant.local[1].length > 0 ? " local('" + variant.local[1] + "')," : ""}}
       url('{{folderPrefix}}{{fontID}}-{{fontItem.storeID}}-{{variant.id}}.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
       url('<a href="{{variant.woff2}}">{{folderPrefix}}{{fontID}}-{{fontItem.storeID}}-{{variant.id}}.woff2</a>') format('woff2'), /* Super Modern Browsers */
       url('<a href="{{variant.woff}}">{{folderPrefix}}{{fontID}}-{{fontItem.storeID}}-{{variant.id}}.woff</a>') format('woff'), /* Modern Browsers */
       url('<a href="{{variant.ttf}}">{{folderPrefix}}{{fontID}}-{{fontItem.storeID}}-{{variant.id}}.ttf</a>')  format('truetype'), /* Safari, Android, iOS */
       url('<a href="{{variant.svg}}">{{folderPrefix}}{{fontID}}-{{fontItem.storeID}}-{{variant.id}}.svg#{{variant.svg.substring(variant.svg.indexOf('#')+1);}}</a>') format('svg'); /* Legacy iOS */
}
</pre>
      </tab>

      <tab heading="Modern Browsers Only">
      <p>css-tricks.com: <a href="http://css-tricks.com/snippets/css/using-font-face/" target="blank">Things are shifting heavily toward WOFF</a><br/>caniuse.com: <a href="http://caniuse.com/#feat=woff" target="blank">Can I use woff? (compatibility information)</a></p>
<pre ng-repeat="variant in fontItem.variants">/* {{fontID}}-{{variant.id}} */
@font-face {
  font-family: {{variant.fontFamily}};
  font-style: {{variant.fontStyle}};
  font-weight: {{variant.fontWeight}};
  src: local('{{variant.local[0]}}'),{{variant.local[1].length > 0 ? " local('" + variant.local[1] + "')," : ""}}
       url('<a href="{{variant.woff2}}">{{folderPrefix}}{{fontID}}-{{fontItem.storeID}}-{{variant.id}}.woff2</a>') format('woff2'), /* Chrome 26+, Opera 23+ */
       url('<a href="{{variant.woff}}">{{folderPrefix}}{{fontID}}-{{fontItem.storeID}}-{{variant.id}}.woff</a>') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
}
</pre>
      </tab>

<!--       <tab heading="woff2 with subsets">
      <p>gist.github.com: <a href="https://gist.github.com/sergejmueller/cf6b4f2133bcb3e2f64a" target="blank">Learn more about WOFF2</a><br/>caniuse.com: <a href="http://caniuse.com/#feat=woff2" target="blank">Can I use woff2? (compatibility information)</a></p>
<pre ng-repeat="variant in fontItem.variants"><span ng-repeat="woff2Item in variant.woff2Subsets">/* {{fontID}}-{{variant.id}} - {{woff2Item.subset}} subset */
@font-face {
  font-family: {{variant.fontFamily}};  
  font-style: {{variant.fontStyle}};
  font-weight: {{variant.fontWeight}};
  src: local('{{variant.local[0]}}'),{{variant.local[1].length > 0 ? " local('" + variant.local[1] + "')," : ""}} 
       url('<a href="{{woff2Item.url}}">{{folderPrefix}}{{fontID}}-{{fontItem.storeID}}-{{variant.id}}-{{woff2Item.subset}}.woff2</a>') format('woff2');
  unicode-range: {{woff2Item.unicodeRange}};
}
</span></pre>
      </tab> -->
    </tabset>

    
  </div> <!-- FONT VARIANT ENDS -->
</div>

<div class="apiError" ng-class="{'show': error === true}">
  <h2>API Error ({{errorStatus}})</h2>
  <pre>REQUEST CONFIG: {{errorConfig}}
REQUEST HEADERS: {{errorHeaders}}</pre>
</div>